<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>EV Predictions on Real - Sports</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
:root {
  --bg: #0b1220;
  --card: #111a2e;
  --accent: #3b82f6;
  --text: #e5e7eb;
  --muted: #9ca3af;
  --good: #22c55e;
  --bad: #ef4444;
}

body {
  background: var(--bg);
  color: var(--text);
  font-family: system-ui, -apple-system, BlinkMacSystemFont;
  margin: 0;
  padding: 20px;
}

h1 {
  text-align: center;
  color: var(--accent);
  margin-bottom: 20px;
}

.container {
  max-width: 900px;
  margin: auto;
}

.card {
  background: var(--card);
  padding: 16px;
  border-radius: 12px;
  margin-bottom: 16px;
}

label {
  font-size: 0.85rem;
  color: var(--muted);
}

input, select {
  width: 100%;
  padding: 8px;
  border-radius: 8px;
  border: none;
  background: #0f172a;
  color: var(--text);
}

.grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
  gap: 10px;
}

button {
  background: var(--accent);
  color: white;
  padding: 12px;
  border: none;
  border-radius: 10px;
  font-weight: 600;
  cursor: pointer;
  margin-top: 10px;
}

button:hover {
  opacity: 0.9;
}

.output {
  white-space: pre-wrap;
  font-family: monospace;
  background: #020617;
  padding: 14px;
  border-radius: 10px;
  margin-top: 10px;
}
</style>
</head>

<body>
<h1>EV Predictions on Real - Sports</h1>

<div class="container">

<div class="card">
<h3>Bet Input</h3>

<div class="grid">
  <div>
    <label>Team</label>
    <input id="team">
  </div>

  <div>
    <label>Stake (RAX)</label>
    <input id="stake" type="number">
  </div>

  <div>
    <label>Payout (RAX if win)</label>
    <input id="payout" type="number">
  </div>

  <div>
    <label>Real %</label>
    <input id="real" type="number">
  </div>

  <div>
    <label>FanDuel Odds</label>
    <input id="odds">
  </div>
</div>

<button onclick="addBet()">Add Bet</button>
</div>

<div class="card">
<h3>Generated Bet Slip</h3>
<div class="output" id="betSlip"></div>
</div>

<div class="card">
<h3>Daily Recap</h3>
<div class="output" id="recap"></div>
</div>

</div>

<script>
let bets = [];

function impliedProb(odds) {
  odds = Number(odds);
  if (odds < 0) return Math.abs(odds) / (Math.abs(odds) + 100);
  return 100 / (odds + 100);
}

function fmt(num) {
  return (num >= 0 ? '+' : '') + num.toFixed(1);
}

function addBet() {
  const team = team.value;
  const stake = Number(stake.value);
  const payout = Number(payout.value);
  const realP = Number(real.value) / 100;
  const marketP = impliedProb(odds.value);

  const profit = (payout / stake) - 1;
  const EV = (marketP * profit) - (1 - marketP);
  const EVpct = EV * 100;

  const edge = (marketP - realP) * 100;
  const buyLimit = (marketP * 100 - 5);

  bets.push({ team, stake, payout, marketP, EV });

  betSlip.innerText +=
`Team: ${team}
Bought: ${stake.toLocaleString()} RAX
Real: ${(realP*100).toFixed(1)}%
Market: ${odds.value} (${(marketP*100).toFixed(1)}%)
Edge: ${fmt(edge)}%
EV: ${fmt(EVpct)}%
Buy â‰¤ ${buyLimit.toFixed(1)}%

`;

  updateRecap();
}

function updateRecap() {
  let totalRisk = 0;
  let expectedProfit = 0;

  bets.forEach(b => {
    totalRisk += b.stake;
    expectedProfit += b.EV * b.stake;
  });

  const expectedReturn = (expectedProfit / totalRisk) * 100;

  recap.innerText =
`Total Bets: ${bets.length}
Total Risk: ${totalRisk.toLocaleString()} RAX
Expected Profit: ${expectedProfit.toFixed(0)} RAX
Expected Return: ${fmt(expectedReturn)}%
`;
}
</script>

</body>
</html>
